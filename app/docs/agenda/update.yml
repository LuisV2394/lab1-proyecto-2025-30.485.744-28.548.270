tags:
  - Agenda
summary: Actualizar un bloque de agenda
description: Modifica la información de un bloque ya existente.
parameters:
  - in: path
    name: block_id
    required: true
    type: integer
    description: ID del bloque a actualizar
  - in: body
    name: body
    required: true
    schema:
      type: object
      properties:
        professionalId:
          type: integer
          example: 101
        unitId:
          type: integer
          example: 5
        date:
          type: string
          format: date
          example: "2025-12-02"
        start_time:
          type: string
          format: time
          example: "10:00:00"
        end_time:
          type: string
          format: time
          example: "12:00:00"
        state:
          type: string
          enum:
            - AVAILABLE
            - BLOCKED
          example: "BLOCKED"
        type:
          type: string
          enum:
            - CONSULTATION
            - PROCEDURE
            - INTERCONSULTATION
          example: "PROCEDURE"
        capacity:
          type: integer
          example: 3
        notes:
          type: string
          example: "Actualizado por reasignación"

responses:
  200:
    description: Bloque actualizado exitosamente
    schema:
      type: object
      properties:
        message:
          type: string
          example: "Bloque actualizado"

  400:
    description: Datos inválidos (formato, horarios o capacidad)
    schema:
      type: object
      properties:
        error:
          type: string
          example: "La hora de inicio debe ser anterior a la hora de fin"

  404:
    description: Bloque, profesional o unidad no encontrada
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Bloque no encontrado"

  409:
    description: Conflicto de horario (solapamiento)
    schema:
      type: object
      properties:
        error:
          type: string
          example: "El profesional ya tiene un bloque en este horario"

  500:
    description: Error interno del servidor
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Error interno del servidor"